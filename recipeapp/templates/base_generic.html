<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% load static %}
        <link rel="stylesheet" href="{% static 'style.css' %}">

        <meta name="description"
              content="{% block description %}Discover, find, and create recipes at your fingertips.{% endblock description %}">
        <meta name="keywords"
              content="{% block keywords %}recipe app, cooking, food recipes, cuisine, family meals, foodie, culinary, kitchen app{% endblock keywords %}">
        <title>
            {% block title %}
            {% endblock title %}
        | FoodManJones</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap')
        </style>
            
    </head>

    <body>
        <!-- nav bar -->
        <nav>
            <ul>
                <li>
                    <a href="{% url 'home' %}">FoodManJones</a>
                </li>
                <div class="spacer"></div>
                {% comment %} TODO check if user is logged in {% endcomment %}
                {% if user.is_authenticated %}
                    <li>
                        <a href="{% url 'logout' %}">Logout</a>
                    </li>
                    {% if not user.is_superuser %}
                        <li>
                            <a href="{% url 'profile' %}">Profile</a>
                        </li>
                    {% endif %}

                    {% if user.is_superuser %}
                        <li>
                            <a href="{% url 'admin_profile' %}">Admin Profile</a>
                        </li>
                    {% endif %}

                {% else %}
                    <li>
                        <a href="{% url 'login' %}">Login</a>
                    </li>
                    <li>
                        <a href="{% url 'register' %}">Register</a>
                    </li>
                {% endif %}
                <li>
                    <a href="{% url 'upload_recipe' %}">Upload a new recipe</a>
                </li>
            </ul>
        </nav>

        {% comment %} TODO find a way to workaround this {% endcomment %}
        {% comment %} <h1>{{ title }}</h1> {% endcomment %}
        <!-- content -->
        <main hx-boost="true">
            {% block content %}
            {% endblock content %}
        </main>

        <footer>
            <p>All rights reserved.</p>
        </footer>
    </body>

    <!-- htmx script -->
    <!-- put here so that it loads last -->
    <script src="https://unpkg.com/htmx.org@1.9.10"
            integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
            crossorigin="anonymous"></script>

</html>
